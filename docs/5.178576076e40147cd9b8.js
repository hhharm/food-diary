(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/2RN":function(t,o,e){"use strict";e.r(o),e.d(o,"DashboardModule",function(){return P});var n=e("ofXK"),c=e("tyNb"),a=e("fXoL"),l=e("bTqV"),r=e("NFeN"),b=e("+0xr");const i=new Map([["PROTEIN","\u0431\u0435\u043b\u043e\u043a"],["CARBS","\u0443\u0433\u043b\u0435\u0432\u043e\u0434\u044b"],["FATS","\u0436\u0438\u0440\u044b"],["FIBER","\u043a\u043b\u0435\u0442\u0447\u0430\u0442\u043a\u0430"],["NYAMNYAM","\u0432\u043a\u0443\u0441\u043d\u044f\u0448\u043a\u0430"],["WATER","\u0432\u043e\u0434\u0430"]]);let d=(()=>{class t{transform(t,...o){const e=[];return i.forEach((o,n)=>{t[n]&&e.push(o)}),e.join(", ")}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=a.Lb({name:"parseFood",type:t,pure:!0}),t})();function s(t,o){1&t&&(a.Sb(0,"th",31),a.Wb(1,32),a.Rb())}function u(t,o){if(1&t&&(a.ac(0,34,1),a.Qb(1),a.Nb(2,"br"),a.Nb(3,"span",36),a.Pb(),a.Yb()),2&t){const t=a.gc().$implicit;a.Cb(3),a.Zb(t.timeDifference),a.Xb(0)}}function m(t,o){if(1&t&&(a.Sb(0,"td",33),a.ac(1,34),a.hc(2,"date"),a.tc(3,u,4,1,"ng-container",35),a.Yb(),a.Rb()),2&t){const t=o.$implicit;a.Cb(3),a.mc("ngIf",t.timeDifference),a.Zb(a.jc(2,2,t.date,"dd.MM.yyyy HH:mm:ss")),a.Xb(1)}}function f(t,o){1&t&&(a.Sb(0,"th",31),a.Wb(1,37),a.Rb())}function _(t,o){if(1&t&&(a.Sb(0,"td",38),a.Wb(1,39),a.hc(2,"parseFood"),a.Rb()),2&t){const t=o.$implicit;a.Cb(2),a.Zb(a.ic(2,1,t.food)),a.Xb(1)}}function g(t,o){1&t&&(a.Sb(0,"th",31),a.Wb(1,40),a.Rb())}function p(t,o){if(1&t&&(a.Sb(0,"td",33),a.Wb(1,41),a.Rb()),2&t){const t=o.$implicit;a.Eb("_bold","\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043f\u0440\u0438\u0451\u043c \u043f\u0438\u0449\u0438"===t.mealType),a.Cb(1),a.Zb(t.mealType),a.Xb(1)}}function R(t,o){1&t&&a.Nb(0,"tr",42)}function C(t,o){1&t&&a.Nb(0,"tr",43)}function h(t,o){if(1&t&&(a.Sb(0,"table",21),a.Qb(1,22),a.tc(2,s,2,0,"th",23),a.tc(3,m,4,5,"td",24),a.Pb(),a.Qb(4,25),a.tc(5,f,2,0,"th",23),a.tc(6,_,3,3,"td",26),a.Pb(),a.Qb(7,27),a.tc(8,g,2,0,"th",23),a.tc(9,p,2,3,"td",28),a.Pb(),a.tc(10,R,1,0,"tr",29),a.tc(11,C,1,0,"tr",30),a.Rb()),2&t){const t=a.gc();a.mc("dataSource",t.log),a.Cb(10),a.mc("matHeaderRowDef",t.displayedColumns),a.Cb(1),a.mc("matRowDefColumns",t.displayedColumns)}}const T="dairyRecords";let A=(()=>{class t{constructor(t){this.cdr=t,this.log=[],this.saveDisabled=!0,this.displayedColumns=["Date","Food","MealType"]}ngOnInit(){const t=localStorage.getItem(T);this.log=t?JSON.parse(t):[],this.log.forEach(t=>{t.date=new Date(t.date)}),this.cdr.markForCheck()}toggle(t){this.tmpRecord||(this.tmpRecord={date:new Date,food:{CARBS:!1,FATS:!1,FIBER:!1,NYAMNYAM:!1,PROTEIN:!1,WATER:!1},mealType:"",timeDifference:null},this.saveDisabled=!1),this.tmpRecord.food[t]=!this.tmpRecord.food[t],this.cdr.markForCheck()}save(){var t;this.tmpRecord&&(this.tmpRecord.date=new Date,this.tmpRecord.mealType=(t=this.tmpRecord.food).PROTEIN&&t.FIBER&&t.CARBS&&t.FATS?"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043f\u0440\u0438\u0451\u043c \u043f\u0438\u0449\u0438":"\u041f\u0435\u0440\u0435\u043a\u0443\u0441",this.tmpRecord.timeDifference=this.log.length?((t,o)=>{const e=Math.floor((t.getTime()-o.getTime())/6e4),n=Math.floor(e/60),c=Math.floor(e)%60;if(t.getDate()!==o.getDate()&&n>10||0===n&&0===c)return null;const a=0===n?"":1===n?" \u0447\u0430\u0441, ":n>4?" \u0447\u0430\u0441\u043e\u0432, ":" \u0447\u0430\u0441\u0430, ";return`\u0441\u043f\u0443\u0441\u0442\u044f ${a?n+a:""} ${c} ${1===c?" \u043c\u0438\u043d\u0443\u0442\u0443":c>4||0===c?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b"}`})(this.tmpRecord.date,this.log[this.log.length-1].date):null,this.log=[...this.log,this.tmpRecord],this.saveDisabled=!0,localStorage.setItem(T,JSON.stringify(this.log)),this.tmpRecord=null,this.cdr.markForCheck())}undo(){this.log.length&&(this.log.pop(),this.log=[...this.log],localStorage.setItem(T,JSON.stringify(this.log)),this.cdr.markForCheck())}clear(){this.log=[],localStorage.removeItem(T),this.cdr.markForCheck()}trackByDateFn(t,o){return o.date}}return t.\u0275fac=function(o){return new(o||t)(a.Mb(a.h))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-day-count"]],decls:30,vars:16,consts:function(){let t,o,e,n,c,a,l,r,b,i,d,s,u,m,f;return t=$localize` Белки `,o=$localize` Углеводы `,e=$localize` Жиры `,n=$localize` Клетчатка `,c=$localize` Вкусняшка `,a=$localize` Вода `,l=$localize`${"\ufffd#17\ufffd"}:START_TAG_MAT_ICON:offline_pin${"\ufffd/#17\ufffd"}:CLOSE_TAG_MAT_ICON:${"\ufffd#18\ufffd"}:START_TAG_SPAN:Добавить запись${"\ufffd/#18\ufffd"}:CLOSE_TAG_SPAN:`,r=$localize`${"\ufffd#24\ufffd"}:START_TAG_MAT_ICON:undo${"\ufffd/#24\ufffd"}:CLOSE_TAG_MAT_ICON:${"\ufffd#25\ufffd"}:START_TAG_SPAN:Удалить последнюю запись${"\ufffd/#25\ufffd"}:CLOSE_TAG_SPAN:`,b=$localize`${"\ufffd#28\ufffd"}:START_TAG_MAT_ICON:clear${"\ufffd/#28\ufffd"}:CLOSE_TAG_MAT_ICON:${"\ufffd#29\ufffd"}:START_TAG_SPAN:Очистить${"\ufffd/#29\ufffd"}:CLOSE_TAG_SPAN:`,i=$localize`Дата`,d=$localize` ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd*3:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER:${"\ufffd#2:1\ufffd\ufffd/#2:1\ufffd"}:LINE_BREAK:${"\ufffd#3:1\ufffd"}:START_TAG_SPAN:${"\ufffd0:1\ufffd"}:INTERPOLATION_1:${"\ufffd/#3:1\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#1:1\ufffd\ufffd/*3:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,s=$localize`Еда`,u=$localize` ${"\ufffd0\ufffd"}:INTERPOLATION: `,m=$localize`Тип`,f=$localize` ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[1,"dc__button-row"],["mat-raised-button","","color","protein",3,"click"],t,["mat-raised-button","","color","carbs",3,"click"],o,["mat-raised-button","","color","fats",3,"click"],e,["mat-raised-button","","color","fiber",3,"click"],n,["mat-raised-button","","color","yammi",3,"click"],c,["mat-raised-button","","color","water",3,"click"],a,["mat-raised-button","","color","save",3,"disabled","click"],l,[1,"dc_table"],["mat-table","",3,"dataSource",4,"ngIf"],[1,"dc_rule-buttons"],["mat-raised-button","",3,"disabled","click"],r,b,["mat-table","",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Food"],["mat-cell","","class","dc__record",4,"matCellDef"],["matColumnDef","MealType"],["mat-cell","",3,"_bold",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],i,["mat-cell",""],d,[4,"ngIf"],[1,"_weak"],s,["mat-cell","",1,"dc__record"],u,m,f,["mat-header-row",""],["mat-row",""]]},template:function(t,o){1&t&&(a.Sb(0,"section"),a.Sb(1,"div",0),a.Sb(2,"button",1),a.ec("click",function(){return o.toggle("PROTEIN")}),a.Wb(3,2),a.Rb(),a.Sb(4,"button",3),a.ec("click",function(){return o.toggle("CARBS")}),a.Wb(5,4),a.Rb(),a.Sb(6,"button",5),a.ec("click",function(){return o.toggle("FATS")}),a.Wb(7,6),a.Rb(),a.Sb(8,"button",7),a.ec("click",function(){return o.toggle("FIBER")}),a.Wb(9,8),a.Rb(),a.Sb(10,"button",9),a.ec("click",function(){return o.toggle("NYAMNYAM")}),a.Wb(11,10),a.Rb(),a.Sb(12,"button",11),a.ec("click",function(){return o.toggle("WATER")}),a.Wb(13,12),a.Rb(),a.Nb(14,"br"),a.Sb(15,"button",13),a.ec("click",function(){return o.save()}),a.ac(16,14),a.Nb(17,"mat-icon"),a.Nb(18,"span"),a.Yb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(19,"section",15),a.tc(20,h,12,3,"table",16),a.Rb(),a.Sb(21,"section",17),a.Sb(22,"button",18),a.ec("click",function(){return o.undo()}),a.ac(23,19),a.Nb(24,"mat-icon"),a.Nb(25,"span"),a.Yb(),a.Rb(),a.Sb(26,"button",18),a.ec("click",function(){return o.clear()}),a.ac(27,20),a.Nb(28,"mat-icon"),a.Nb(29,"span"),a.Yb(),a.Rb(),a.Rb()),2&t&&(a.Cb(2),a.Eb("_outline",null==o.tmpRecord||null==o.tmpRecord.food?null:o.tmpRecord.food.PROTEIN),a.Cb(2),a.Eb("_outline",null==o.tmpRecord||null==o.tmpRecord.food?null:o.tmpRecord.food.CARBS),a.Cb(2),a.Eb("_outline",null==o.tmpRecord||null==o.tmpRecord.food?null:o.tmpRecord.food.FATS),a.Cb(2),a.Eb("_outline",null==o.tmpRecord||null==o.tmpRecord.food?null:o.tmpRecord.food.FIBER),a.Cb(2),a.Eb("_outline",null==o.tmpRecord||null==o.tmpRecord.food?null:o.tmpRecord.food.NYAMNYAM),a.Cb(2),a.Eb("_outline",null==o.tmpRecord||null==o.tmpRecord.food?null:o.tmpRecord.food.WATER),a.Cb(3),a.mc("disabled",o.saveDisabled),a.Cb(5),a.mc("ngIf",o.log.length),a.Cb(2),a.mc("disabled",!o.log.length),a.Cb(4),a.mc("disabled",!o.log.length))},directives:[l.a,r.a,n.j,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,b.f,b.h],pipes:[n.e,d],styles:[".dc__button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{margin:8px;border:2px solid #fff}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base._outline[_ngcontent-%COMP%]{border-color:#77d249;box-shadow:1px 3px 3px 3px #d9dad9}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base.mat-protein[_ngcontent-%COMP%]{background-color:#feffde;color:#2a056e}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base.mat-carbs[_ngcontent-%COMP%]{background-color:#d1deff;color:#2a056e}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base.mat-fats[_ngcontent-%COMP%]{background-color:#ffdada;color:#2a056e}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base.mat-yammi[_ngcontent-%COMP%]{background-color:#fedeff;color:#2a056e}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base.mat-fiber[_ngcontent-%COMP%]{background-color:#d0ffcb;color:#2a056e}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base.mat-water[_ngcontent-%COMP%]{background-color:#6495ed;color:#fff}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base.mat-save[_ngcontent-%COMP%]{margin-left:30px}.dc__button-row[_ngcontent-%COMP%]   .mat-button-base.mat-save[_ngcontent-%COMP%]:not(.mat-button-disabled){background-color:#009018;color:#fff}.dc__record[_ngcontent-%COMP%]{padding:0 10px}._bold[_ngcontent-%COMP%]{font-weight:700}.dc_table[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;font-size:x-small}.dc_table[_ngcontent-%COMP%]   ._weak[_ngcontent-%COMP%]{font-style:italic;font-weight:lighter;color:grey}.dc_rule-buttons[_ngcontent-%COMP%]{position:absolute;bottom:0}.dc_rule-buttons[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{margin:6px}"],changeDetection:0}),t})();const S=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=a.Gb({type:t,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(t,o){1&t&&a.Nb(0,"app-day-count")},directives:[A],styles:["[_nghost-%COMP%]{height:100%}"],changeDetection:0}),t})()}];let O=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(o){return new(o||t)},imports:[[c.a.forChild(S)],c.a]}),t})();var N=e("PCNd");let M=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(o){return new(o||t)},imports:[[n.c]]}),t})(),P=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(o){return new(o||t)},imports:[[n.c,N.a,O,M]]}),t})()}}]);